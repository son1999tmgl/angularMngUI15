<app-template-base>
    <app-loading></app-loading>
    <div class="content-header">{{ title }}</div>

    <div class="content-content">
        <div class="row">
            <div class="col-md-6">
                <div class="panel agencyInfo">
                    <div class="panel-heading">
                        <h3 class="panel-title"><b> Thông tin đại lý</b></h3>
                    </div>
                    <div class="panel-body">
                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall">Tên đại lý: </label>
                            <div class="col-sm-7">
                                <input autocomplete="off" type="text" placeholder="Tên đại lý" class="form-control"
                                    required [(ngModel)]="dataDetailAgency.name">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall">Mã số thuế: </label>
                            <div class="col-sm-7">
                                <input autocomplete="off" type="text" placeholder="Mã số thuế" class="form-control"
                                    required [(ngModel)]="dataDetailAgency.taxCode">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall">Email: </label>
                            <div class="col-sm-7">
                                <input autocomplete="off" type="email" placeholder="Email" class="form-control" required
                                    [(ngModel)]="dataDetailAgency.email">

                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall">Địa chỉ: </label>
                            <div class="col-sm-7">
                                <input autocomplete="off" type="text" placeholder="Địa chỉ" class="form-control"
                                    required [(ngModel)]="dataDetailAgency.address">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall">Số điện thoại: </label>
                            <div class="col-sm-7">
                                <input autocomplete="off" type="text" placeholder="Số điện thoại" class="form-control"
                                    required [(ngModel)]="dataDetailAgency.phone">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall">Mã tổng đại lý: </label>
                            <div class="col-sm-7">
                                <input autocomplete="off" type="text" placeholder="Mã tổng đại lý" class="form-control"
                                    required [(ngModel)]="dataDetailAgency.agency">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall">Mật khẩu truy cập: </label>
                            <div class="col-sm-7">
                                <div class="input-group mar-btm">
                                    <input type="text" placeholder="Mật khẩu truy cập" disabled class="form-control"
                                        [(ngModel)]="dataDetailAgency.agencyAccessKey">
                                    <span class="input-group-btn">
                                        <button (click)="actionChangeAccessKeyAgency()" class="btn btn-primary"
                                            type="button"><i class="fa fa-refresh fa-lg" aria-hidden="true"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall">Tự động ký MB02: </label>
                            <div class="col-sm-7">
                                <div class="checkbox" *ngFor="let device of configSetting.listDevices">
                                    <input id="chkAutoSignMB02_{{ device.code }}" class="magic-checkbox" type="checkbox"
                                        [(ngModel)]="autoSignMB02[device.code]" style="margin-right: 2px;">
                                    <label for="chkAutoSignMB02_{{ device.code }}"> {{ device.name }}</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-3 control-label" for="demo-is-inputsmall"></label>
                            <div class="col-sm-7">
                                <div class="checkbox">
                                    <input id="agencyTMS" class="magic-checkbox" type="checkbox"
                                        [(ngModel)]="dataDetailAgency.agencyHasTMS" style="margin-right: 2px;">
                                    <label for="agencyTMS"> Đại lý có sẵn TMS</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel" ng-style="myStyle">
                    <div class="panel-heading">
                        <h3 class="panel-title"> <b> Thông tin hook</b></h3>
                    </div>
                    <div class="panel-body">
                        <div class="row">

                            <div class="form-group row">
                                <label class="col-sm-3 control-label" for="demo-is-inputsmall">Hook Info: </label>
                                <div class="col-sm-7">
                                    <input autocomplete="off" type="text" placeholder="Hook Info" class="form-control "
                                        [(ngModel)]="hookInfo.hookUrl">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-3 control-label" for="demo-is-inputsmall">Hook User: </label>
                                <div class="col-sm-7">
                                    <input autocomplete="off" type="text" placeholder="Hook User" class="form-control "
                                        [(ngModel)]="hookInfo.hookUser">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-3 control-label" for="demo-is-inputsmall">Hook Password: </label>
                                <div class="col-sm-7">
                                    <input autocomplete="off" type="text" placeholder="Hook Password"
                                        class="form-control " [(ngModel)]="hookInfo.hookPassword">
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <br />
                            <!-- ds token -->
                            <div class="row table_token">
                                <div class="header">
                                    <button class="btn btn-primary pull-right" (click)="openModalToken()">Thêm mới
                                        token</button>
                                </div>
                                <app-render-token [agencyId]="agencyId"></app-render-token>
                            </div>
                            <div class="col-md-12">
                                <div class="text-center">
                                    <ul class="pagination">
                                        <div paging page="data.paging.current_page" page-size="data.paging.per_page"
                                            total="data.paging.total" paging-action="action.changePageTokenType(page)">
                                        </div>
                                    </ul>
                                </div>
                            </div>

                            <app-create-token [(display)]="displayModalToken" [agencyId]="agencyId"></app-create-token>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="row cert">
            <div class="col-md-12">
                <app-render-certificate-profile [agencyId]="agencyId"></app-render-certificate-profile>
            </div>
        </div>
        <div class="row">
            <div class="btn-update">
                <button class="btn bg-primary" (click)="actionUpdateAgency()">Cập nhật</button>
            </div>
        </div>
    </div>
</app-template-base>