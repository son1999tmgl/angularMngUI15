<app-template-base>
    <div class="content-header">{{ title }}</div>
    <div class="content-filters">

        <div class="filters-left">
            <div>
                <p-dropdown [options]="listCertExpire" [(ngModel)]="data.filters.certExpireIn" optionLabel="name"
                    optionValue="code"></p-dropdown>
            </div>
            <div>
                <p-dropdown [options]="agencies" [(ngModel)]="data.filters.agencyId" optionLabel="name"
                    optionValue="code" placeholder="--Đại lý--"></p-dropdown>
            </div>
        </div>
        <div class="filters-right">
            <div>
                <p-button pRipple label="Tìm kiếm" icon="pi pi-search" (onClick)="actionSearch()"></p-button>
            </div>
            <div>
                <button pButton pRipple type="button" label="Xuất excel" (click)="exportExcel()"
                    class="p-button-outlined p-button-secondary primeNG-customer-btn"></button>
            </div>
        </div>


    </div>
    <div class="content-content">
        <p-scrollPanel [style]="{width: '100%', height: 'auto'}">
            <table class="table">
                <thead class="thead-light">
                    <tr>
                        <ng-container *ngFor="let header of headerTable">
                            <th scope="col" [ngClass]="'header_' + header.split(' ').join('_')">{{header}}</th>
                        </ng-container>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of dataListReportExpired; let i = index">
                        <td>{{item.stt}}</td>
                        <td>{{item.agency}}</td>
                        <td>{{item.mst}}</td>
                        <td>{{item.cccd}}</td>
                        <td>{{item.customerName}}</td>
                        <td>{{item.customerType}}</td>
                        <td>{{item.validFrom}}</td>
                        <td>{{item.validTo}}</td>
                        <td>{{item.phone}}</td>
                        <td>{{item.email}}</td>
                        <td>{{item.deviceType}}</td>
                        <td>{{item.simInfo}}</td>
                    </tr>
                </tbody>
            </table>
        </p-scrollPanel>
        <div>
            <p-paginator (onPageChange)="paginate($event)" [rows]="data.filters.perPage"
                [totalRecords]="data.filters.total" [rowsPerPageOptions]="[10,20,30,50,100,200]"
                [alwaysShow]="false"></p-paginator>
        </div>
    </div>
</app-template-base>